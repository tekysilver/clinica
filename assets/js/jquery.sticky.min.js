!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=Array.prototype.slice,i=Array.prototype.splice,r={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},s=e(window),n=e(document),a=[],o=s.height(),c=function(){for(var t=s.scrollTop(),i=n.height(),r=i-o,c=t>r?r-t:0,d=0,l=a.length;l>d;d++){var p=a[d],u=p.stickyWrapper.offset().top,f=u-p.topSpacing-c;if(p.stickyWrapper.css("height",p.stickyElement.outerHeight()),f>=t)null!==p.currentTop&&(p.stickyElement.css({width:"",position:"",top:"","z-index":""}),p.stickyElement.parent().removeClass(p.className),p.stickyElement.trigger("sticky-end",[p]),p.currentTop=null);else{var h=i-p.stickyElement.outerHeight()-p.topSpacing-p.bottomSpacing-t-c;if(0>h?h+=p.topSpacing:h=p.topSpacing,p.currentTop!==h){var m;p.getWidthFrom?m=e(p.getWidthFrom).width()||null:p.widthFromWrapper&&(m=p.stickyWrapper.width()),null==m&&(m=p.stickyElement.width()),p.stickyElement.css("width",m).css("position","fixed").css("top",h).css("z-index",p.zIndex),p.stickyElement.parent().addClass(p.className),null===p.currentTop?p.stickyElement.trigger("sticky-start",[p]):p.stickyElement.trigger("sticky-update",[p]),p.currentTop===p.topSpacing&&p.currentTop>h||null===p.currentTop&&h<p.topSpacing?p.stickyElement.trigger("sticky-bottom-reached",[p]):null!==p.currentTop&&h===p.topSpacing&&p.currentTop<h&&p.stickyElement.trigger("sticky-bottom-unreached",[p]),p.currentTop=h}var v=p.stickyWrapper.parent(),g=p.stickyElement.offset().top+p.stickyElement.outerHeight()>=v.offset().top+v.outerHeight()&&p.stickyElement.offset().top<=p.topSpacing;g?p.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):p.stickyElement.css("position","fixed").css("top",h).css("bottom","").css("z-index",p.zIndex)}}},d=function(){o=s.height();for(var t=0,i=a.length;i>t;t++){var r=a[t],n=null;r.getWidthFrom?r.responsiveWidth&&(n=e(r.getWidthFrom).width()):r.widthFromWrapper&&(n=r.stickyWrapper.width()),null!=n&&r.stickyElement.css("width",n)}},l={init:function(t){return this.each(function(){var i=e.extend({},r,t),s=e(this),n=s.attr("id"),o=n?n+"-"+r.wrapperClassName:r.wrapperClassName,c=e("<div></div>").attr("id",o).addClass(i.wrapperClassName);s.wrapAll(function(){return 0==e(this).parent("#"+o).length?c:void 0});var d=s.parent();i.center&&d.css({width:s.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===s.css("float")&&s.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=s,i.stickyWrapper=d,i.currentTop=null,a.push(i),l.setWrapperHeight(this),l.setupChangeListeners(this)})},setWrapperHeight:function(t){var i=e(t),r=i.parent();r&&r.css("height",i.outerHeight())},setupChangeListeners:function(e){if(window.MutationObserver){var t=new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&l.setWrapperHeight(e)});t.observe(e,{subtree:!0,childList:!0})}else window.addEventListener?(e.addEventListener("DOMNodeInserted",function(){l.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){l.setWrapperHeight(e)},!1)):window.attachEvent&&(e.attachEvent("onDOMNodeInserted",function(){l.setWrapperHeight(e)}),e.attachEvent("onDOMNodeRemoved",function(){l.setWrapperHeight(e)}))},update:c,unstick:function(t){return this.each(function(){for(var t=this,r=e(t),s=-1,n=a.length;n-->0;)a[n].stickyElement.get(0)===t&&(i.call(a,n,1),s=n);-1!==s&&(r.unwrap(),r.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",c,!1),window.addEventListener("resize",d,!1)):window.attachEvent&&(window.attachEvent("onscroll",c),window.attachEvent("onresize",d)),e.fn.sticky=function(i){return l[i]?l[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):l.init.apply(this,arguments)},e.fn.unstick=function(i){return l[i]?l[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):l.unstick.apply(this,arguments)},e(function(){setTimeout(c,0)})});